(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n(39)},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(23),i=n.n(s),o=n(5),c=n(18),u=n(11),l=n.n(u),m=n(15),h=n(12),p=n(6),d=n(7),f=n(9),g=n(8),b=n(4),v=n(10),E=n(13),w=n.n(E),y=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={id:n.getId(),question:"",img_src:"",correct_answer:"",other_answers1:"",other_answers2:"",other_answers3:"",error:""},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"getId",value:function(){return w()()}},{key:"allFieldsEmpty",value:function(){if(""===this.state.question&&""===this.state.correct_answer&&""===this.state.other_answers1&&""===this.state.other_answers2&&""===this.state.other_answers3)return!0}},{key:"setErrorMessage",value:function(e){var t=this;this.setState({error:e}),setTimeout(function(){t.setState({error:""})},3e3)}},{key:"onClick",value:function(e){if(this.allFieldsEmpty())this.setErrorMessage("Please fill in all fields");else{var t={id:this.state.id,question:this.state.question,correct_answer:this.state.correct_answer,other_answers:[this.state.other_answers1,this.state.other_answers2,this.state.other_answers3]};this.props.addQuestion(t)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-group list-group-item"},r.a.createElement("div",{className:"input-group input-group-sm mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text bg-info text-white"},"Question:")),r.a.createElement("input",{className:"form-control",type:"text",name:"question",onChange:this.handleChange.bind(this),placeholder:"Question"})),r.a.createElement("div",{className:"input-group input-group-sm mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text bg-info text-white"},"Image:")),r.a.createElement("input",{className:"form-control",type:"text",name:"img_src",onChange:this.handleChange.bind(this),placeholder:"Image link (Optional)"})),r.a.createElement("div",{className:"input-group input-group-sm mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text bg-info text-white"},"Correct answer:")),r.a.createElement("input",{className:"form-control",type:"text",name:"correct_answer",onChange:this.handleChange.bind(this),placeholder:"Correct answer"})),r.a.createElement("div",{className:"input-group input-group-sm mb-3 "},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text bg-info text-white"},"Other answers:")),r.a.createElement("input",{className:"mr-2 form-control",type:"text",name:"other_answers1",onChange:this.handleChange.bind(this),placeholder:"Other answer 1"}),r.a.createElement("input",{className:"mr-2 form-control",type:"text",name:"other_answers2",onChange:this.handleChange.bind(this),placeholder:"Other answer 2"}),r.a.createElement("input",{className:"mr-2 form-control",type:"text",name:"other_answers3",onChange:this.handleChange.bind(this),placeholder:"Other answer 3"})),r.a.createElement("div",null,this.state.error&&r.a.createElement("div",{className:"alert alert-warning",role:"alert"},this.state.error)),r.a.createElement("div",{className:"btn-group d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-success btn-sm",onClick:this.onClick.bind(this)}," ","Add question"," "),!this.allFieldsEmpty()&&r.a.createElement("button",{className:"btn btn-secondary btn-sm",onClick:function(){return e.props.updateQuestion(e.state)}}," ","Update question"," ")))}}]),t}(a.Component),N=function(e){var t=e.question,n=e.correct_answer,a=e.other_answers;return a?r.a.createElement("div",null,r.a.createElement("h3",{className:"text-center"},t),r.a.createElement("ul",null,r.a.createElement("li",null,n),a.map(function(e,t){return r.a.createElement("li",{key:t+99},e)}))):null},O=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).onSubmit=function(){var e=Object(h.a)(l.a.mark(function e(t){var a,r,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=Object(m.a)({},n.state,{questions:n.state.questions.filter(function(e){return 777!==e.id})}),e.next=4,fetch("/quiz",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:s=e.sent,console.log("data:",s),void 0!==s&&(console.log("data:",s),k.push("/quiz/".concat(s)));case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.state={name:"",questions:[{id:777}]},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.newQuestion=n.newQuestion.bind(Object(b.a)(n)),n.addQuestion=n.addQuestion.bind(Object(b.a)(n)),n.handleQuestion=n.handleQuestion.bind(Object(b.a)(n)),n.updateQuestion=n.updateQuestion.bind(Object(b.a)(n)),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"addQuestion",value:function(e){0===this.state.questions.filter(function(t){return t.id===e.id}).length&&this.setState({questions:[].concat(Object(c.a)(this.state.questions),[e])})}},{key:"handleQuestion",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"newQuestion",value:function(e,t){e.preventDefault(),this.addQuestion(t)}},{key:"updateQuestion",value:function(e){var t=Object(m.a)({},e);this.setState({questions:[].concat(Object(c.a)(this.state.questions.filter(function(t){return t.id!==e.id})),[t])})}},{key:"getId",value:function(){return w()()}},{key:"render",value:function(){var e=this,t=this.state.questions.map(function(t,n){return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement(N,t),r.a.createElement(y,{handleQuestion:e.handleQuestion,key:t.id,updateQuestion:e.updateQuestion,addQuestion:e.addQuestion}))});return r.a.createElement("div",null,r.a.createElement("div",{className:"input-group input-group-lg mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text bg-info text-white"},"Quiz Name:")),r.a.createElement("input",{className:"form-control",name:"name",value:this.state.name,onChange:this.handleChange,type:"text",placeholder:"Name your quiz"})),r.a.createElement("div",null,t),r.a.createElement("input",{className:"btn btn-primary btn-block",type:"submit",value:"Create Quiz",onClick:this.onSubmit}))}}]),t}(a.Component),j=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",questions:[]},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/getquiz/".concat(this.props.match.params.id));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),this.setState({name:n.name,questions:n.questions});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"containerx"},r.a.createElement("h1",{className:"text-center"},this.state.name),this.state.questions.length>0&&this.state.questions.map(function(e){return r.a.createElement("div",null,r.a.createElement("h4",null,e.question),r.a.createElement("ul",null,r.a.createElement("li",null,e.correct_answer),e.other_answers.map(function(e){return r.a.createElement("li",null,e)})))}))}}]),t}(r.a.Component),x=n(26),C=n(3),k=Object(C.a)();function q(){return r.a.createElement("div",{className:"text-center container "},r.a.createElement("h1",{className:"text-center"},"Welcome to QuizBuilder"),r.a.createElement("h2",{className:"text-center"},"Build your own quiz and share with friends"),r.a.createElement(O,null))}var Q=function(){return r.a.createElement(x.b,{history:k},r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/",exact:!0,component:q}),r.a.createElement(x.a,{path:"/quiz/:id",component:j})))};i.a.render(r.a.createElement(Q,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.a73d479f.chunk.js.map